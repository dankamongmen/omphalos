<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="http://docbook.sourceforge.net/release/xsl/current/manpages/docbook.xsl"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
	"http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [

<!ENTITY % omphalosents SYSTEM "omphalos.ent" >
%omphalosents;

<!-- TITLE should be something like "User commands",		-->
<!-- "&dhpackage; command-line reference" or similar (see e.g.	-->
<!-- http://www.tldp.org/HOWTO/Man-Page/q2.html). But limit	-->
<!-- it to 30    "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" chars.	-->
<!ENTITY dhtitle "omphalos reference">
  
<!-- This is the application/package name.	-->
<!ENTITY dhucpackage "OMPHALOS">
<!ENTITY dhpackage "omphalos">

<!-- If the application e.g. belongs to a package like X.org,	-->
<!-- this should be set to the package/suite name instead of	-->
<!-- dhpackage.							-->
<!ENTITY dhproduct "omphalos">

<!-- SECTION should be 1-8, maybe w/ subsection other	-->
<!-- parameters are allowed: see man(7), man(1) and	-->
<!-- http://www.tldp.org/HOWTO/Man-Page/q2.html.	-->
<!ENTITY dhsection "1">

]>

<refentry>
	<refentryinfo>
		<title>&dhtitle;</title>
		<!-- Better put a suite name instead of &dhpackage; into productname -->
		<productname>&dhproduct;</productname>
		<releaseinfo role="version">&dhrelease;</releaseinfo>
		<authorgroup>
			<author>
				<firstname>&dhfirstname;</firstname>
				<surname>&dhsurname;</surname>
				<contrib>Design and implementation.</contrib>
				<address>
					<email>&dhemail;</email>
				</address>
			</author>
		</authorgroup>
		<copyright>
			<year>2012</year>
			<holder>&dhusername;</holder>
		</copyright>
	</refentryinfo>
	<refmeta>
		<refentrytitle>&dhucpackage;</refentrytitle>
		<manvolnum>&dhsection;</manvolnum>
	</refmeta>
	<refnamediv>
		<refname>&dhpackage;</refname>
		<refpurpose>Network enumeration and domination</refpurpose>
	</refnamediv>
	<refsynopsisdiv>
		<cmdsynopsis>
			<command>&dhpackage;</command>
			<arg>-h</arg>
			<arg>--version</arg>
			<arg>-u username</arg>
			<arg>-f filename</arg>
			<arg>-p</arg>
			<arg>--ouis filename</arg>
			<arg>--usbids filename </arg>
			<arg>--resolv filename</arg>
			<arg>--plog filename</arg>
			<arg>--mode silent|active</arg>
		</cmdsynopsis>
	</refsynopsisdiv>
	<refsect1 id="description">
		<title>DESCRIPTION</title>
		<para><command>&dhpackage;</command> uses passive and active
			techniques to map available networks, making it a
			powerful debugging and analysis tool. It furthermore
			facilitates MitM, DoS, and other activities within
			those networks.
			</para>
	</refsect1>
	<refsect1 id="options">
		<title>OPTIONS</title>
		<varlistentry>
			<term><option>-h</option></term>
			<listitem>
			<para>Print a brief usage summary and exit.</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term><option>--version</option></term>
			<listitem>
			<para>Print version information and exit.</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term><option>-u username</option></term>
			<listitem>
				<para>Omphalos will by default change to the user 'nobody' after
				creating packet sockets. This requires the CAP_SETUID capability
				or root privileges. To disable user switching, pass an empty string
				to -u. To change to a different user, provide that username as the
				argument to -u.</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term><option>-f filename</option></term>
			<listitem>
				<para>Omphalos will by default listen (until shut down) to active network devices
				using packet sockets. If -f is provided, omphalos will instead process the libpcap-format
				file specified by filename.</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term><option>-p</option></term>
			<listitem>
				<para>Omphalos will by default place all newly-detected
					Ethernet devices into promiscuous mode.
					If -p is provided, omphalos will leave
					such devices in whatever mode they were
					discovered.</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term><option>--ouis filename</option></term>
			<listitem>
				<para>Omphalos will by default load the file 'ieee-oui.txt', use its
				contents to map Ethernet hardware addresses to IANA OUIs, and
				watch it for modifications. A different filename can be provided via
				--ouis, and OUI mapping can be disabled entirely with an empty string. The
				file provided ought be in the format generated by arp-scan's get-oui
				utility.</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term><option>--usbids filename</option></term>
			<listitem>
				<para>Omphalos will by default load the file 'usb.ids', use its
				contents to name USB devices, and watch it for
				modifications. A different filename can be
				provided via --usbids, and USB ID database
				support can be disabled entirely with an empty
				string. The file provided ought be in the
				format generated by usbutils' update-usbids(8)
				utility. If there is no database definition for
				a device, the Manufacturer and Product strings
				from sysfs will be used, if available.</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term><option>--resolv filename</option></term>
			<listitem>
				<para>Omphalos will by default load the file '/etc/resolv.conf', use its
				contents to seed initial name resolution, and
				watch it for modifications. A different filename can be provided via
				--resolv, and name lookup can be restricted to discovered nameservers
				with an empty string. The file provided ought be in the format used by
				Linux glibc's name resolver.</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term><option>--plog filename</option></term>
			<listitem>
				<para>Packets which omphalos couldn't completely
				analyze will be written, in libpcap savefile format,
				to the specified filename.</para>
			</listitem>
		</varlistentry>
		<varlistentry>
			<term><option>--mode silent|active</option></term>
			<listitem>
				<para>Select the operating mode ("active" by
				default). See the OPERATING MODES section below.
				</para>
			</listitem>
		</varlistentry>
	</refsect1>
	<refsect1 id="modes">
		<title>OPERATING MODES</title>
		<varlistentry><para>
		<parameter>silent</parameter>: Omphalos will generate no packets.
		</para></varlistentry>
		<varlistentry><para>
		<parameter>active</parameter>: Standard operation. Omphalos will freely transmit packets as necessary to discover the network (this includes ARP, Neighbor Discovery, SSDP, DNS, mDNS and others).
		</para></varlistentry>
	</refsect1>
	<refsect1 id="bugs">
		<title>BUGS</title>
		<para>Search <ulink url="http://bugs.qemfd.net/bugzilla/buglist.cgi?product=omphalos"/>.
		Mail bug reports and/or patches to the authors.</para>
	</refsect1>
	<refsect1 id="see_also">
		<title>SEE ALSO</title>
		<para>GitHub: <ulink url="http://github.com/dankamongmen/omphalos"/></para>
		<para>Project wiki: <ulink url="http://dank.qemfd.net/dankwiki/index.php/Omphalos"/></para>
		<para>
		<citerefentry>
			<refentrytitle>arp-scan</refentrytitle>
			<manvolnum>1</manvolnum>
		</citerefentry>, <citerefentry>
			<refentrytitle>capabilities</refentrytitle>
			<manvolnum>7</manvolnum>
		</citerefentry>, <citerefentry>
			<refentrytitle>get-oui</refentrytitle>
			<manvolnum>1</manvolnum>
		</citerefentry>, <citerefentry>
			<refentrytitle>packet</refentrytitle>
			<manvolnum>7</manvolnum>
		</citerefentry>, <citerefentry>
			<refentrytitle>pcap-savefile</refentrytitle>
			<manvolnum>5</manvolnum>
		</citerefentry>, <citerefentry>
			<refentrytitle>resolv.conf</refentrytitle>
			<manvolnum>5</manvolnum>
		</citerefentry>
		</para>
	</refsect1>
</refentry>
